<!DOCTYPE html>
<html lang="mr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>рддрд╛рд▓реБрдХрд╛ рдпреЛрдЬрдирд╛ рддреБрд▓рдирд╛рддреНрдордХ рдбреЕрд╢рдмреЛрд░реНрдб тАУ рдЬрд│рдЧрд╛рд╡ рдЬрд┐рд▓реНрд╣рд╛</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="./ggg_files/bootstrap.min.css" rel="stylesheet">
  <link href="./ggg_files/css2" rel="stylesheet">
  <link rel="stylesheet" href="./ggg_files/all.min.css">
  <script src="./ggg_files/chart.js@4"></script>
  <script src="./ggg_files/chartjs-plugin-datalabels@2"></script>
  <style>
    body { font-family: 'Noto Sans Devanagari', sans-serif; background: #f7fafc; color: #23263a; }
    .glass { background: #fff; border-radius: 14px; box-shadow: 0 2px 10px #bac2f2bb; margin-bottom: 1.2rem; padding:1.1rem; }
    .dashboard-3col { display: flex; flex-wrap: wrap; gap: 1.1rem; }
    .dashboard-3col > div { background: #f4f6fa; border-radius: 10px; padding: 0.7rem; flex: 1 1 20%; } /* Changed flex to 20% for smaller KPI width */
    .kpi-card { border-radius: 10px; text-align: center; padding: .55em .6em .4em .6em; font-size:0.99em; font-weight: 700; margin:.15em 0; box-shadow:0 2px 6px #dbeafe20;}
    .kpi-card span.chip { font-size:1em; display:block; font-weight:600;}
    .kpi-card.top  { background:linear-gradient(90deg,#bbf7d0 70%,#6ee7b7);}
    .kpi-card.mid  { background:linear-gradient(90deg,#fde68a,#fef9c3);}
    .kpi-card.bot  { background:linear-gradient(90deg,#fecaca,#f87171);}
    .kpi-card.selected { border: 2px solid #6366f1; box-shadow:0 3px 20px #a5b4fc33;}
    .dept-chip {
      display:inline-block; padding:7px 14px; border-radius:25px; font-size:.99em; background:#e0e7ff; margin:2px 6px 4px 0; color:#2d3d80;
      font-weight:600; box-shadow:0 2px 8px #5661b422;transition:transform .18s,background .15s;
      cursor:pointer; border:2.2px solid transparent;
    }
    .dept-chip:hover, .dept-chip.selected {
      background:linear-gradient(91deg,#facc15 25%,#fbbf24 100%);
      color:#262626; border-color:#f59e0b; transform:scale(1.08); z-index:2;
    }
    .chart-container { height: 180px; min-height: 110px; border: 1px solid #e0e7ff; border-radius: 8px; padding: 5px; /* Added border and reduced padding */ }
    .dashboard-3col .chart-container { background:#fff; border-radius:10px; padding:.25rem;}
    .form-label { font-weight: 600;}
    .btn-export { margin-left:0.5rem; border-radius: 20px; padding: 8px 15px; font-weight: bold; /* Made buttons more attractive */ }
    .table thead th {
      background: #4f46e5; /* Darker blue */ color: #fff; border: 1px solid #4f46e5; text-align: center;vertical-align: middle; font-size:1.01em;padding:.48em;}
    .table tbody td { border: 1px solid #c7d2fe; vertical-align: middle; padding: .37rem .2rem; text-align:center; font-size:.95em;}
    .table tbody tr.selected-block td { background: #9fa8da!important; font-weight:700; color:#fff;} /* Darker selection */
    .table tbody tr.top5  td { background: #a7f3d0 !important;} /* Slightly darker green */
    .table tbody tr.mid5  td { background: #fcd34d !important;} /* Slightly darker yellow */
    .table tbody tr.bot5  td { background: #fca5a5 !important;} /* Slightly darker red */
    @media (max-width: 950px) {.dashboard-3col{flex-direction:column;gap:.8rem;}
      .dashboard-3col>div{min-width:0;}
    }
    .info-badge {background: #e0e7ff;color: #2d3d80;font-size:.97em; padding:7px 12px; border-radius:8px;margin-bottom:1rem; border-left:4px solid #6366f1;}
    .nav-pills .nav-link { font-weight:600; }
    .nav-pills .nav-link.active { background: #6366f1; }
  </style>
</head>
<body>
<div class="container-fluid pb-3">
  <h2 class="text-center mb-2">ЁЯУК рддрд╛рд▓реБрдХрд╛ рдпреЛрдЬрдирд╛ рддреБрд▓рдирд╛рддреНрдордХ рдбреЕрд╢рдмреЛрд░реНрдб<br>
    <small class="text-muted" style="font-size:1em;">(рдЬрд│рдЧрд╛рд╡ рдЬрд┐рд▓реНрд╣рд╛)</small>
  </h2>
  <div class="glass mb-3">
    <div class="row g-2 align-items-center">
      <div class="col-md-6 col-lg-5">
        <label class="form-label">рдпреЛрдЬрдирд╛ рдирд┐рд╡рдбрд╛ (Multiple):</label>
        <select id="schemeSelect" multiple="" class="form-select form-select-sm" size="7"><option value="__all__" style="font-weight:bold;">рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛</option><option value="рдЬрдореАрди рдорд╣рд╕реВрд▓ рд╡ рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА">рдЬрдореАрди рдорд╣рд╕реВрд▓ рд╡ рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</option><option value="рдШрд░рдХреВрд▓рд╛рдВрдирд╛ рдореЛрдлрдд рд╡рд╛рд│реВ">рдШрд░рдХреВрд▓рд╛рдВрдирд╛ рдореЛрдлрдд рд╡рд╛рд│реВ</option><option value="рдЕрдирдзрд┐рдХреГрдд рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА">рдЕрдирдзрд┐рдХреГрдд рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</option><option value="рд╢реЗрддреАрдкрд┐рдХ рдиреБрдХрд╕рд╛рди EKYC ">рд╢реЗрддреАрдкрд┐рдХ рдиреБрдХрд╕рд╛рди EKYC </option><option value="рд╢реЗрддрдХрд░реА рдЖрддреНрдорд╣рддреНрдпрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ">рд╢реЗрддрдХрд░реА рдЖрддреНрдорд╣рддреНрдпрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</option><option value="рдИ-рдЪрд╛рд╡рдбреА 100% рд╡рд╕реБрд▓реА рдЭрд╛рд▓реЗрд▓реНрдпрд╛ рдЧрд╛рд╡рд╛рдВрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА">рдИ-рдЪрд╛рд╡рдбреА 100% рд╡рд╕реБрд▓реА рдЭрд╛рд▓реЗрд▓реНрдпрд╛ рдЧрд╛рд╡рд╛рдВрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</option><option value="рдбрд┐рдЬрд┐рдЯрд▓ рдХреНрд░реЙрдк рд╕рд░реНрд╡реЗ рдкреАрдХ рдкрд╛рд╣рдгреА рдиреЛрдВрджрд┐рд▓реЗрд▓реНрдпрд╛ ownerтАЩs рдкреНрд▓реЙрдЯрдЪреА %">рдбрд┐рдЬрд┐рдЯрд▓ рдХреНрд░реЙрдк рд╕рд░реНрд╡реЗ рдкреАрдХ рдкрд╛рд╣рдгреА рдиреЛрдВрджрд┐рд▓реЗрд▓реНрдпрд╛ ownerтАЩs рдкреНрд▓реЙрдЯрдЪреА %</option><option value="рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рддрдпрд╛рд░ рдХрд░рдгреЗ">рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рддрдпрд╛рд░ рдХрд░рдгреЗ</option><option value="рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рдмрдЬрд╛рд╡рдгреЗ ">рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рдмрдЬрд╛рд╡рдгреЗ </option><option value="рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕">рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</option><option value="рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕">рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</option><option value="рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕">рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</option><option value="рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕">рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</option><option value="рдИ-рд╣рдХреНрдХ рдкреНрд░рдгрд╛рд▓реА рдЧреНрд░рд╛рдо рдорд╣рд╕реВрд▓ рдЕрдзрд┐рдХрд╛рд▒реНрдпрд╛рдХрдбреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдЕрд░реНрдЬ">рдИ-рд╣рдХреНрдХ рдкреНрд░рдгрд╛рд▓реА рдЧреНрд░рд╛рдо рдорд╣рд╕реВрд▓ рдЕрдзрд┐рдХрд╛рд▒реНрдпрд╛рдХрдбреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдЕрд░реНрдЬ</option><option value="рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 1 рдкреНрд░рд▓рдВрдмрд┐рдд рд╡рд╛рд░рд╕рдиреЛрдВрдж рдЕрд░реНрдЬ">рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 1 рдкреНрд░рд▓рдВрдмрд┐рдд рд╡рд╛рд░рд╕рдиреЛрдВрдж рдЕрд░реНрдЬ</option><option value="рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 2 рдПрдХреБрдг рд╕рд╛рдзреНрдп %">рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 2 рдПрдХреБрдг рд╕рд╛рдзреНрдп %</option><option value="ре▓рдЧреНрд░реАрд╕реНрдЯреЕрдХ PM рдХрд┐рд╕рд╛рди рд▓рд╛рднрд╛рд░реНрдереАрд╢реА рдиреЛрдВрджрдгреАрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА  ">ре▓рдЧреНрд░реАрд╕реНрдЯреЕрдХ PM рдХрд┐рд╕рд╛рди рд▓рд╛рднрд╛рд░реНрдереАрд╢реА рдиреЛрдВрджрдгреАрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА  </option><option value="рд╕реЗрд╡рд╛ рд╣рдореА рдХрд╛рдпрджрд╛ рд╡реЗрд│реЗрдд рд╕реЗрд╡рд╛ рджрд┐рд▓реНрдпрд╛рдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА">рд╕реЗрд╡рд╛ рд╣рдореА рдХрд╛рдпрджрд╛ рд╡реЗрд│реЗрдд рд╕реЗрд╡рд╛ рджрд┐рд▓реНрдпрд╛рдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</option><option value="рд░рд╛рдЬреНрдп рд╕реЗрд╡рд╛ рд╣рдореА рдЖрдпреЛрдЧ рдЕрдкрд┐рд▓ рд╕реНрддрд░ 2
рдкреНрд░рд▓рдВрдмрд┐рдд">рд░рд╛рдЬреНрдп рд╕реЗрд╡рд╛ рд╣рдореА рдЖрдпреЛрдЧ рдЕрдкрд┐рд▓ рд╕реНрддрд░ 2
рдкреНрд░рд▓рдВрдмрд┐рдд</option><option value="рдиреЙрди рдХреНрд░рд┐рдореАрд▓реЗрдЕрд░ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрдбрддрд╛рд│рдгреА рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ">рдиреЙрди рдХреНрд░рд┐рдореАрд▓реЗрдЕрд░ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрдбрддрд╛рд│рдгреА рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</option><option value="рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ Approved ekyc %">рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ Approved ekyc %</option><option value="рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХреЗрддреАрд▓ рдордпрдд рд╡ рд╡рд┐рд╡рд╛рд╣реАрдд рд▓рд╛рднрд╛рд░реНрдереА рд╡рдЧрд│рдгреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдПрдХреБрдг рд▓рд╛рднрд╛рд░реНрдереА">рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХреЗрддреАрд▓ рдордпрдд рд╡ рд╡рд┐рд╡рд╛рд╣реАрдд рд▓рд╛рднрд╛рд░реНрдереА рд╡рдЧрд│рдгреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдПрдХреБрдг рд▓рд╛рднрд╛рд░реНрдереА</option><option value="рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдЖрдзрд╛рд░ рд╕рд┐рдбреАрдВрдЧ">рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдЖрдзрд╛рд░ рд╕рд┐рдбреАрдВрдЧ</option><option value="рд░реЛрд╣рдпреЛ рдЕрдкреВрд░реНрдг рдХрд╛рдореЗ ">рд░реЛрд╣рдпреЛ рдЕрдкреВрд░реНрдг рдХрд╛рдореЗ </option><option value="рддрд╣рд╕рд┐рд▓рджрд╛рд░ рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ">рддрд╣рд╕рд┐рд▓рджрд╛рд░ рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</option><option value="рдордВрдбрд│ рдЕрдзрд┐рдХрд╛рд░реА рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ">рдордВрдбрд│ рдЕрдзрд┐рдХрд╛рд░реА рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</option><option value="рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдирд╛ рдЬрд╛рдЧрд╛ рд╡рд┐рддрд░рдг рдЯрдХреНрдХреЗрд╡рд╛рд░реА">рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдирд╛ рдЬрд╛рдЧрд╛ рд╡рд┐рддрд░рдг рдЯрдХреНрдХреЗрд╡рд╛рд░реА</option><option value="PMAY-G рдЕрдВрддрд░реНрдЧрдд рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдЪреЗ рддрд╣рд╕реАрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп рд╕реНрддрд░рд╛рд╡рд░ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡">PMAY-G рдЕрдВрддрд░реНрдЧрдд рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдЪреЗ рддрд╣рд╕реАрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп рд╕реНрддрд░рд╛рд╡рд░ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</option><option value="рдорд╣рд╛рд░рд╛рдЬрд╕реНрд╡ рд╡рд┐рддрд░реАрдд рдкреНрд░рдорд╛рдгрдкрддреНрд░">рдорд╣рд╛рд░рд╛рдЬрд╕реНрд╡ рд╡рд┐рддрд░реАрдд рдкреНрд░рдорд╛рдгрдкрддреНрд░</option><option value="рд╢реЗрддрд╕реБрд▓рдн рдпреЛрдЬрдирд╛ рддреБрдХрдбрд╛ рдиреЛрдВрдж рдХрдореА рдХреЗрд▓реЗрд▓реЗ рен/резреи %">рд╢реЗрддрд╕реБрд▓рдн рдпреЛрдЬрдирд╛ рддреБрдХрдбрд╛ рдиреЛрдВрдж рдХрдореА рдХреЗрд▓реЗрд▓реЗ рен/резреи %</option><option value="рдорд╛рдорд▓рддрджрд╛рд░ рдЕрдзрд┐рдирд┐рдпрдо рдХрд▓рдо 143 рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡">рдорд╛рдорд▓рддрджрд╛рд░ рдЕрдзрд┐рдирд┐рдпрдо рдХрд▓рдо 143 рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</option><option value="рдХрд▓рдо резрелрел рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡">рдХрд▓рдо резрелрел рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</option><option value="36,36рдЕ рдЪреНрдпрд╛ рдиреЛрдВрджреА рдШреЗрдгреНрдпрд╛рдд рдЖрд▓реЗрд▓реНрдпрд╛ 7/12 %">36,36рдЕ рдЪреНрдпрд╛ рдиреЛрдВрджреА рдШреЗрдгреНрдпрд╛рдд рдЖрд▓реЗрд▓реНрдпрд╛ 7/12 %</option></select>
      </div>
      <div class="col-md-6 col-lg-6"> <label class="form-label">рддрд╛рд▓реБрдХрд╛ рдирд┐рд╡рдбрд╛:</label>
        <div id="talukaChips" class="mb-2">
    <span class="dept-chip" tabindex="0" data-block="рдЬрд│рдЧрд╛рд╡">рдЬрд│рдЧрд╛рд╡</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдЬрд╛рдордиреЗрд░">рдЬрд╛рдордиреЗрд░</span>
  
    <span class="dept-chip" tabindex="0" data-block="рднреБрд╕рд╛рд╡рд│">рднреБрд╕рд╛рд╡рд│</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдмреЛрджрд╡рдб">рдмреЛрджрд╡рдб</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдореБрдХреНрддрд╛рдИрдирдЧрд░">рдореБрдХреНрддрд╛рдИрдирдЧрд░</span>
  
    <span class="dept-chip" tabindex="0" data-block="рд░рд╛рд╡реЗрд░">рд░рд╛рд╡реЗрд░</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдпрд╛рд╡рд▓">рдпрд╛рд╡рд▓</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдЕрдорд│рдиреЗрд░">рдЕрдорд│рдиреЗрд░</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдЪреЛрдкрдбрд╛">рдЪреЛрдкрдбрд╛</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдПрд░рдВрдбреЛрд▓">рдПрд░рдВрдбреЛрд▓</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдзрд░рдгрдЧрд╛рд╡">рдзрд░рдгрдЧрд╛рд╡</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдкрд╛рд░реЛрд│рд╛">рдкрд╛рд░реЛрд│рд╛</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдкрд╛рдЪреЛрд░рд╛">рдкрд╛рдЪреЛрд░рд╛</span>
  
    <span class="dept-chip" tabindex="0" data-block="рднрдбрдЧрд╛рд╡">рднрдбрдЧрд╛рд╡</span>
  
    <span class="dept-chip" tabindex="0" data-block="рдЪрд╛рд│реАрд╕рдЧрд╛рд╡">рдЪрд╛рд│реАрд╕рдЧрд╛рд╡</span>
  </div>
      </div>
      <div class="col-md-12 col-lg-1 text-end mt-2 mt-lg-0"> <button id="resetBtn" class="btn btn-outline-danger btn-sm">Reset</button>
        <button id="submitBtn" class="btn btn-primary btn-sm ms-2">Submit</button>
      </div>
    </div>
    <div class="row mt-1">
      <div class="col-12">
        <div class="info-badge">
          <i class="fa fa-info-circle me-1"></i> 
          <b>рд╕реВрдЪрдирд╛:</b> "рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛" рдирд┐рд╡рдбрдгреНрдпрд╛рд╕рд╛рдареА рдкрд╣рд┐рд▓рд╛ рдкрд░реНрдпрд╛рдп рдирд┐рд╡рдбрд╛. рддрд╛рд▓реБрдХрд╛ рдирд┐рд╡рдбрд╛, <b>Submit</b> рд╡рд░ рдХреНрд▓рд┐рдХ рдХрд░рд╛. рдкреНрд░рддреНрдпреЗрдХ рддрд╛рд▓реБрдХреНрдпрд╛рд╕рд╛рдареА KPI рд╡рд░ рдХреНрд▓рд┐рдХ рдХреЗрд▓реНрдпрд╛рд╕ рддреНрдпрд╛ рддрд╛рд▓реБрдХреНрдпрд╛рдЪрд╛ scheme-wise self-assessment рд░рд┐рдкреЛрд░реНрдЯ рджрд┐рд╕реЗрд▓.
        </div>
      </div>
    </div>
  </div>
  
  <div class="glass">
    <div class="dashboard-3col">
      <div>
        <div id="kpiCol">
    <div class="kpi-card top selected" onclick="selfAssessment(&#39;рдпрд╛рд╡рд▓&#39;)">
      <span class="chip">ЁЯПЖ Top</span>рдпрд╛рд╡рд▓<div>15</div>
    </div><div class="kpi-card mid selected" onclick="selfAssessment(&#39;рдкрд╛рдЪреЛрд░рд╛&#39;)">
      <span class="chip">тЪЦя╕П рдордзреНрдпрдо</span>рдкрд╛рдЪреЛрд░рд╛<div>8</div></div><div class="kpi-card bot selected" onclick="selfAssessment(&#39;рдЬрд╛рдордиреЗрд░&#39;)">
      <span class="chip">ЁЯЪи рддрд│</span>рдЬрд╛рдордиреЗрд░<div>1</div></div></div>
      </div>
      <div class="d-flex flex-column">
        <div class="text-primary mb-2" style="font-weight:700;font-size:.98em;">Bar Chart</div>
        <div id="barArea" class="chart-container flex-grow-1"><canvas id="barChart" width="430" height="215" style="display: block; box-sizing: border-box; height: 172px; width: 344px;"></canvas></div>
        <button id="downloadBarBtn" class="btn btn-success btn-sm btn-export mt-1 align-self-start">тмЗя╕П Bar Chart</button>
      </div>
      <div class="d-flex flex-column">
        <div class="text-primary mb-2" style="font-weight:700;font-size:.98em;">Donut Chart</div>
        <div id="donutArea" class="chart-container flex-grow-1"><canvas id="donutChart" width="215" height="215" style="display: block; box-sizing: border-box; height: 172px; width: 172px;"></canvas></div>
        <button id="downloadDonutBtn" class="btn btn-warning btn-sm btn-export mt-1 align-self-start">тмЗя╕П Donut Chart</button>
      </div>
    </div>
  </div>
  <div class="glass mb-3">
    <h5 class="mb-2 text-primary" style="font-size:1.08em;">
      <i class="fa fa-table me-2"></i>рддрд╛рд▓реБрдХреНрдпрд╛рдВрдЪреА рдкреВрд░реНрдг рдорд╛рд╣рд┐рддреА рд╡ рд░рдБрдХрд┐рдВрдЧ
      <button id="downloadCsvBtn" class="btn btn-secondary btn-xs btn-export float-end">ЁЯУК CSV</button>
    </h5>
    <div class="table-responsive">
      <table class="table table-bordered mb-0" id="dataTable">
        <thead><tr id="tableHeader"><th>рд░рдБрдХ</th><th>рддрд╛рд▓реБрдХрд╛</th><th>рдЬрдореАрди рдорд╣рд╕реВрд▓ рд╡ рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</th><th>рдШрд░рдХреВрд▓рд╛рдВрдирд╛ рдореЛрдлрдд рд╡рд╛рд│реВ</th><th>рдЕрдирдзрд┐рдХреГрдд рдЧреМрдгрдЦрдирд┐рдЬ рд╡рд╕реБрд▓реА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</th><th>рд╢реЗрддреАрдкрд┐рдХ рдиреБрдХрд╕рд╛рди EKYC </th><th>рд╢реЗрддрдХрд░реА рдЖрддреНрдорд╣рддреНрдпрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</th><th>рдИ-рдЪрд╛рд╡рдбреА 100% рд╡рд╕реБрд▓реА рдЭрд╛рд▓реЗрд▓реНрдпрд╛ рдЧрд╛рд╡рд╛рдВрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</th><th>рдбрд┐рдЬрд┐рдЯрд▓ рдХреНрд░реЙрдк рд╕рд░реНрд╡реЗ рдкреАрдХ рдкрд╛рд╣рдгреА рдиреЛрдВрджрд┐рд▓реЗрд▓реНрдпрд╛ ownerтАЩs рдкреНрд▓реЙрдЯрдЪреА %</th><th>рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рддрдпрд╛рд░ рдХрд░рдгреЗ</th><th>рдлреЗрд░рдлрд╛рд░ рдиреЛрдВрджреА рдирд┐рд░реНрдЧрддреА
рдиреЛрдЯреАрд╕ рдмрдЬрд╛рд╡рдгреЗ </th><th>рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</th><th>рдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</th><th>рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-UnDisputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</th><th>рдЕрдиреЛрдВрджрдгреАрдХреГрдд рдиреЛрдВрджреА-Disputed рдлреЗрд░рдлрд╛рд░ рдирд┐рд░реНрдЧрдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд▓рд╛рдЧрдгрд╛рд░реЗ рд╕рд░рд╛рд╕рд░реА рджрд┐рд╡рд╕</th><th>рдИ-рд╣рдХреНрдХ рдкреНрд░рдгрд╛рд▓реА рдЧреНрд░рд╛рдо рдорд╣рд╕реВрд▓ рдЕрдзрд┐рдХрд╛рд▒реНрдпрд╛рдХрдбреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдЕрд░реНрдЬ</th><th>рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 1 рдкреНрд░рд▓рдВрдмрд┐рдд рд╡рд╛рд░рд╕рдиреЛрдВрдж рдЕрд░реНрдЬ</th><th>рдЬрд┐рд╡рдВрдд рд╕рд╛рддрдмрд╛рд░рд╛ рдЯрдкреНрдкрд╛ 2 рдПрдХреБрдг рд╕рд╛рдзреНрдп %</th><th>ре▓рдЧреНрд░реАрд╕реНрдЯреЕрдХ PM рдХрд┐рд╕рд╛рди рд▓рд╛рднрд╛рд░реНрдереАрд╢реА рдиреЛрдВрджрдгреАрдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА  </th><th>рд╕реЗрд╡рд╛ рд╣рдореА рдХрд╛рдпрджрд╛ рд╡реЗрд│реЗрдд рд╕реЗрд╡рд╛ рджрд┐рд▓реНрдпрд╛рдЪреА рдЯрдХреНрдХреЗрд╡рд╛рд░реА</th><th>рд░рд╛рдЬреНрдп рд╕реЗрд╡рд╛ рд╣рдореА рдЖрдпреЛрдЧ рдЕрдкрд┐рд▓ рд╕реНрддрд░ 2
рдкреНрд░рд▓рдВрдмрд┐рдд</th><th>рдиреЙрди рдХреНрд░рд┐рдореАрд▓реЗрдЕрд░ рдкреНрд░рдорд╛рдгрдкрддреНрд░ рдкрдбрддрд╛рд│рдгреА рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</th><th>рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ Approved ekyc %</th><th>рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХреЗрддреАрд▓ рдордпрдд рд╡ рд╡рд┐рд╡рд╛рд╣реАрдд рд▓рд╛рднрд╛рд░реНрдереА рд╡рдЧрд│рдгреЗ рдкреНрд░рд▓рдВрдмрд┐рдд рдПрдХреБрдг рд▓рд╛рднрд╛рд░реНрдереА</th><th>рд╢рд┐рдзрд╛рдкрддреНрд░рд┐рдХрд╛ рдкреНрд░рд▓рдВрдмрд┐рдд рдЖрдзрд╛рд░ рд╕рд┐рдбреАрдВрдЧ</th><th>рд░реЛрд╣рдпреЛ рдЕрдкреВрд░реНрдг рдХрд╛рдореЗ </th><th>рддрд╣рд╕рд┐рд▓рджрд╛рд░ рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</th><th>рдордВрдбрд│ рдЕрдзрд┐рдХрд╛рд░реА рдпрд╛рдВрдЪреЗрдХрдбреАрд▓ рдЕрд░реНрдзрдиреНрдпрд╛рдпрд┐рдХ рдкреНрд░рдХрд░рдгреЗ 2 рд╡рд░реНрд╖рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рдХрд░рдгреЗ</th><th>рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдирд╛ рдЬрд╛рдЧрд╛ рд╡рд┐рддрд░рдг рдЯрдХреНрдХреЗрд╡рд╛рд░реА</th><th>PMAY-G рдЕрдВрддрд░реНрдЧрдд рднреВрдорд┐рд╣реАрди рд▓рд╛рднрд╛рд░реНрдереНрдпрд╛рдВрдЪреЗ рддрд╣рд╕реАрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп рд╕реНрддрд░рд╛рд╡рд░ рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</th><th>рдорд╣рд╛рд░рд╛рдЬрд╕реНрд╡ рд╡рд┐рддрд░реАрдд рдкреНрд░рдорд╛рдгрдкрддреНрд░</th><th>рд╢реЗрддрд╕реБрд▓рдн рдпреЛрдЬрдирд╛ рддреБрдХрдбрд╛ рдиреЛрдВрдж рдХрдореА рдХреЗрд▓реЗрд▓реЗ рен/резреи %</th><th>рдорд╛рдорд▓рддрджрд╛рд░ рдЕрдзрд┐рдирд┐рдпрдо рдХрд▓рдо 143 рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</th><th>рдХрд▓рдо резрелрел рдкреНрд░рд▓рдВрдмрд┐рдд рдкреНрд░рд╕реНрддрд╛рд╡</th><th>36,36рдЕ рдЪреНрдпрд╛ рдиреЛрдВрджреА рдШреЗрдгреНрдпрд╛рдд рдЖрд▓реЗрд▓реНрдпрд╛ 7/12 %</th></tr></thead>
        <tbody id="tableBody">
      <tr class="top5">
        <td>1</td><td>рдпрд╛рд╡рд▓</td><td>15</td><td>11</td><td>3</td><td>10</td><td>9</td><td>7</td><td>2</td><td>1</td><td>1</td><td>5</td><td>3</td><td>11</td><td>5</td><td>3</td><td>1</td><td>8</td><td>14</td><td>1</td><td>1</td><td>1</td><td>10</td><td>8</td><td>8</td><td>7</td><td>1</td><td>1</td><td>13</td><td>15</td><td>3</td><td>2</td><td>6</td><td>5</td><td>5</td>
      </tr>
      <tr class="top5">
        <td>2</td><td>рдЬрд│рдЧрд╛рд╡</td><td>14</td><td>13</td><td>8</td><td>1</td><td>1</td><td>1</td><td>5</td><td>1</td><td>1</td><td>5</td><td>13</td><td>8</td><td>12</td><td>1</td><td>5</td><td>1</td><td>15</td><td>3</td><td>1</td><td>1</td><td>5</td><td>4</td><td>13</td><td>6</td><td>1</td><td>1</td><td>2</td><td>1</td><td>1</td><td>1</td><td>3</td><td>3</td><td>8</td>
      </tr>
      <tr class="top5">
        <td>3</td><td>рдЪрд╛рд│реАрд╕рдЧрд╛рд╡</td><td>13</td><td>6</td><td>9</td><td>7</td><td>11</td><td>10</td><td>8</td><td>1</td><td>1</td><td>9</td><td>7</td><td>2</td><td>10</td><td>15</td><td>9</td><td>5</td><td>8</td><td>9</td><td>11</td><td>1</td><td>6</td><td>1</td><td>10</td><td>13</td><td>14</td><td>14</td><td>2</td><td>1</td><td>9</td><td>1</td><td>12</td><td>1</td><td>12</td>
      </tr>
      <tr class="top5">
        <td>4</td><td>рдзрд░рдгрдЧрд╛рд╡</td><td>12</td><td>11</td><td>1</td><td>2</td><td>14</td><td>3</td><td>11</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>2</td><td>8</td><td>7</td><td>3</td><td>4</td><td>11</td><td>1</td><td>14</td><td>4</td><td>14</td><td>15</td><td>2</td><td>1</td><td>1</td><td>9</td><td>1</td><td>6</td><td>1</td><td>4</td><td>5</td><td>3</td>
      </tr>
      <tr class="top5">
        <td>5</td><td>рднреБрд╕рд╛рд╡рд│</td><td>11</td><td>10</td><td>11</td><td>5</td><td>1</td><td>14</td><td>7</td><td>1</td><td>1</td><td>1</td><td>2</td><td>3</td><td>1</td><td>4</td><td>1</td><td>4</td><td>1</td><td>14</td><td>1</td><td>1</td><td>8</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>4</td><td>1</td><td>1</td><td>1</td><td>1</td>
      </tr>
      <tr class="mid5">
        <td>6</td><td>рдПрд░рдВрдбреЛрд▓</td><td>10</td><td>7</td><td>12</td><td>3</td><td>11</td><td>5</td><td>12</td><td>1</td><td>1</td><td>4</td><td>4</td><td>3</td><td>5</td><td>2</td><td>11</td><td>12</td><td>9</td><td>11</td><td>1</td><td>1</td><td>2</td><td>6</td><td>3</td><td>3</td><td>1</td><td>1</td><td>8</td><td>1</td><td>10</td><td>10</td><td>6</td><td>12</td><td>10</td>
      </tr>
      <tr class="mid5">
        <td>7</td><td>рд░рд╛рд╡реЗрд░</td><td>9</td><td>9</td><td>6</td><td>11</td><td>15</td><td>11</td><td>1</td><td>1</td><td>1</td><td>5</td><td>7</td><td>15</td><td>4</td><td>6</td><td>10</td><td>2</td><td>3</td><td>15</td><td>13</td><td>1</td><td>11</td><td>9</td><td>3</td><td>4</td><td>1</td><td>1</td><td>12</td><td>1</td><td>11</td><td>11</td><td>1</td><td>13</td><td>6</td>
      </tr>
      <tr class="mid5">
        <td>8</td><td>рдкрд╛рдЪреЛрд░рд╛</td><td>8</td><td>4</td><td>4</td><td>9</td><td>1</td><td>9</td><td>9</td><td>1</td><td>1</td><td>9</td><td>7</td><td>3</td><td>8</td><td>6</td><td>6</td><td>10</td><td>5</td><td>2</td><td>1</td><td>1</td><td>15</td><td>10</td><td>12</td><td>9</td><td>1</td><td>1</td><td>15</td><td>1</td><td>7</td><td>8</td><td>13</td><td>8</td><td>14</td>
      </tr>
      <tr class="mid5">
        <td>9</td><td>рдЪреЛрдкрдбрд╛</td><td>7</td><td>2</td><td>10</td><td>8</td><td>1</td><td>2</td><td>4</td><td>1</td><td>1</td><td>1</td><td>5</td><td>3</td><td>11</td><td>11</td><td>1</td><td>7</td><td>7</td><td>11</td><td>1</td><td>1</td><td>14</td><td>7</td><td>8</td><td>10</td><td>12</td><td>1</td><td>6</td><td>1</td><td>8</td><td>13</td><td>8</td><td>3</td><td>1</td>
      </tr>
      <tr class="mid5">
        <td>10</td><td>рднрдбрдЧрд╛рд╡</td><td>6</td><td>3</td><td>13</td><td>12</td><td>1</td><td>6</td><td>10</td><td>1</td><td>1</td><td>12</td><td>12</td><td>11</td><td>5</td><td>5</td><td>8</td><td>11</td><td>10</td><td>3</td><td>1</td><td>1</td><td>9</td><td>5</td><td>3</td><td>8</td><td>11</td><td>1</td><td>11</td><td>1</td><td>5</td><td>9</td><td>15</td>
      </tr>
      <tr class="bot5">
        <td>11</td><td>рдЕрдорд│рдиреЗрд░</td><td>5</td><td>5</td><td>7</td><td>14</td><td>1</td><td>4</td><td>13</td><td>1</td><td>1</td><td>5</td><td>6</td><td>8</td><td>13</td><td>12</td><td>1</td><td>9</td><td>11</td><td>5</td><td>1</td><td>1</td><td>3</td><td>11</td><td>13</td><td>11</td><td>1</td><td>1</td><td>14</td><td>14</td><td>5</td><td>1</td><td>11</td><td>5</td><td>7</td>
      </tr>
      <tr class="bot5">
        <td>12</td><td>рдмреЛрджрд╡рдб</td><td>4</td><td>15</td><td>15</td><td>15</td><td>1</td><td>15</td><td>15</td><td>1</td><td>1</td><td>9</td><td>15</td><td>3</td><td>9</td><td>13</td><td>15</td><td>15</td><td>12</td><td>6</td><td>1</td><td>1</td><td>12</td><td>15</td><td>1</td><td>5</td><td>13</td><td>1</td><td>10</td><td>1</td><td>15</td><td>14</td><td>15</td><td>9</td><td>13</td>
      </tr>
      <tr class="bot5">
        <td>13</td><td>рдкрд╛рд░реЛрд│рд╛</td><td>3</td><td>14</td><td>1</td><td>4</td><td>11</td><td>12</td><td>14</td><td>1</td><td>1</td><td>12</td><td>10</td><td>8</td><td>3</td><td>14</td><td>13</td><td>13</td><td>13</td><td>8</td><td>15</td><td>15</td><td>7</td><td>1</td><td>7</td><td>14</td><td>15</td><td>15</td><td>2</td><td>1</td><td>14</td><td>7</td><td>10</td><td>9</td><td>9</td>
      </tr>
      <tr class="bot5">
        <td>14</td><td>рдореБрдХреНрддрд╛рдИрдирдЧрд░</td><td>2</td><td>8</td><td>14</td><td>13</td><td>1</td><td>13</td><td>6</td><td>1</td><td>1</td><td>12</td><td>14</td><td>11</td><td>15</td><td>10</td><td>12</td><td>6</td><td>6</td><td>9</td><td>11</td><td>1</td><td>1</td><td>12</td><td>3</td><td>12</td><td>1</td><td>1</td><td>2</td><td>1</td><td>12</td><td>12</td><td>9</td><td>14</td><td>11</td>
      </tr>
      <tr class="bot5">
        <td>15</td><td>рдЬрд╛рдордиреЗрд░</td><td>1</td><td>1</td><td>5</td><td>6</td><td>9</td><td>8</td><td>3</td><td>1</td><td>1</td><td>15</td><td>11</td><td>11</td><td>13</td><td>9</td><td>14</td><td>14</td><td>2</td><td>6</td><td>14</td><td>1</td><td>13</td><td>13</td><td>11</td><td>15</td><td>1</td><td>1</td><td>7</td><td>1</td><td>2</td><td>15</td><td>14</td><td>15</td><td>4</td>
      </tr></tbody>
      </table>
    </div>
  </div>
</div>

<script src="./ggg_files/chart.js@4"></script>
<script src="./ggg_files/chartjs-plugin-datalabels@2"></script>
<script>
// рдХреЙрдиреНрдлрд┐рдЧреЗрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ: API рдХреА, рд╕реНрдкреНрд░реЗрдбрд╢реАрдЯ рдЖрдпрдбреА рдЖрдгрд┐ рдбреЗрдЯрд╛ рд░реЗрдВрдЬ
const CONFIG = {
  apiKey: "AIzaSyDhCjnUv7x5yj9cXKV52Qv8CrYwUhBIWuU",
  spreadsheetId: "1y_EVqNg-reS3xV-Kn6cmTou7u_6kuyqykNdgdzXEMkE",
  range: "Rank!B5:AJ20" // рд╕реНрдкреНрд░реЗрдбрд╢реАрдЯрдордзреАрд▓ рдбреЗрдЯрд╛рдЪреА рд░реЗрдВрдЬ
};

// рдЧреНрд▓реЛрдмрд▓ рд╡реНрд╣реЗрд░рд┐рдПрдмрд▓реНрд╕
let rawData=[], headers=[], blocks=[], schemes=[];
let barChart, donutChart;
const selectedBlocks = new Set(), selectedSchemes = new Set();

// Google Sheets рдордзреВрди рдбреЗрдЯрд╛ рдЖрдгрдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
async function fetchSheet() {
  const url = `https://sheets.googleapis.com/v4/spreadsheets/${CONFIG.spreadsheetId}/values/${encodeURIComponent(CONFIG.range)}?majorDimension=ROWS&valueRenderOption=UNFORMATTED_VALUE&key=${CONFIG.apiKey}`;
  const res = await fetch(url);
  if (!res.ok) throw Error(res.statusText);
  return (await res.json()).values;
}

// рдЖрд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ рдкрд╛рд░реНрд╕ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function parse(values) {
  headers = values[0]; // рдкрд╣рд┐рд▓реА рдУрд│ рд╣реЗрдбрд░реНрд╕ рдореНрд╣рдгреВрди
  const idxBlock=headers.findIndex(h=>/рддрд╛рд▓реБрдХрд╛/i.test(h)); // 'рддрд╛рд▓реБрдХрд╛' рдирд╛рд╡рд╛рдЪреНрдпрд╛ рд╕реНрддрдВрднрд╛рдЪрд╛ рдЗрдВрдбреЗрдХреНрд╕ рд╢реЛрдзрд╛
  // рдбреЗрдЯрд╛рдЪреНрдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рдУрд│реАрд▓рд╛ рдСрдмреНрдЬреЗрдХреНрдЯрдордзреНрдпреЗ рд░реВрдкрд╛рдВрддрд░рд┐рдд рдХрд░рд╛
  blocks = values.slice(1).map(r => {
    const obj={}; 
    headers.forEach((h,i)=>obj[h]=r[i]); 
    obj._block=r[idxBlock]; // рддрд╛рд▓реБрдХреНрдпрд╛рдЪреЗ рдирд╛рд╡ _block рдордзреНрдпреЗ рд╕рд╛рдард╡рд╛
    return obj;
  });
  // 'рддрд╛рд▓реБрдХрд╛' рд╡рдЧрд│рддрд╛ рд╕рд░реНрд╡ рд╣реЗрдбрд░реНрд╕ рдпреЛрдЬрдирд╛ (schemes) рдореНрд╣рдгреВрди рд╕реЗрдЯ рдХрд░рд╛
  schemes = headers.filter((_,i) => i!==idxBlock);
  rawData = blocks; // рдкрд╛рд░реНрд╕ рдХреЗрд▓реЗрд▓рд╛ рдбреЗрдЯрд╛ rawData рдордзреНрдпреЗ рд╕рд╛рдард╡рд╛
}

// рдирд┐рдпрдВрддреНрд░рдг рдШрдЯрдХ (рдбреНрд░реЙрдкрдбрд╛рдЙрди, рдЪрд┐рдкреНрд╕, рдмрдЯрдгреЗ) рд░реЗрдВрдбрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function renderControls() {
  const schemeSel=document.getElementById('schemeSelect');
  // рдпреЛрдЬрдирд╛ рдирд┐рд╡рдб рдбреНрд░реЙрдкрдбрд╛рдЙрдирдордзреНрдпреЗ рдкрд░реНрдпрд╛рдп рдЬреЛрдбрд╛
  schemeSel.innerHTML = `<option value="__all__" style="font-weight:bold;">рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛</option>` 
        + schemes.map(s=>`<option value="${s}">${s}</option>`).join('');
  // рдбреНрд░реЙрдкрдбрд╛рдЙрдирдордзреАрд▓ рдмрджрд▓рд╛рдВрд╡рд░ рд▓рдХреНрд╖ рдареЗрд╡рдгреНрдпрд╛рд╕рд╛рдареА рдЗрд╡реНрд╣реЗрдВрдЯ рд▓рд┐рд╕рдирд░
  schemeSel.addEventListener('change',()=>{
    const val = Array.from(schemeSel.selectedOptions).map(o=>o.value);
    const allSelected = val.includes('__all__');
    if(allSelected) {
      for (let option of schemeSel.options) if (option.value !== '__all__') option.selected=true;
    }
    // рдЬрд░ 'рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛' рдирд┐рд╡рдбрд▓реЗ рдирд╕реЗрд▓ рддрд░ рддреЗ рдЕрдирдЪреЗрдХ рдХрд░рд╛
    const allActual = Array.from(schemeSel.options).filter(o=>o.value!=="__all__" && o.selected);
    if(allActual.length===schemes.length)
      schemeSel.querySelector('option[value="__all__"]').selected=true;
    else
      schemeSel.querySelector('option[value="__all__"]').selected=false;
  });

  // рддрд╛рд▓реБрдХрд╛ рдЪрд┐рдкреНрд╕ рд░реЗрдВрдбрд░ рдХрд░рд╛
  const talukaDiv=document.getElementById('talukaChips');
  talukaDiv.innerHTML=blocks.map(b=>`
    <span class="dept-chip" tabindex="0" data-block="${b._block}">${b._block}</span>
  `).join('');
  // рддрд╛рд▓реБрдХрд╛ рдЪрд┐рдкреНрд╕рдЪреНрдпрд╛ рдХреНрд▓рд┐рдХ рдЗрд╡реНрд╣реЗрдВрдЯрд╕рд╛рдареА рд▓рд┐рд╕рдирд░
  talukaDiv.querySelectorAll('.dept-chip').forEach(span=>{
    span.onclick=()=>{
      const name=span.getAttribute('data-block');
      if(selectedBlocks.has(name)) { selectedBlocks.delete(name); span.classList.remove('selected');}
      else {selectedBlocks.add(name); span.classList.add('selected');}
    };
  });

  // рд░реАрд╕реЗрдЯ рдмрдЯрдгрд╛рдЪреНрдпрд╛ рдХреНрд▓рд┐рдХ рдЗрд╡реНрд╣реЗрдВрдЯрд╕рд╛рдареА рд▓рд┐рд╕рдирд░
  document.getElementById('resetBtn').onclick = () => {
    selectedBlocks.clear(); 
    selectedSchemes.clear();
    talukaDiv.querySelectorAll('.dept-chip').forEach(span=>span.classList.remove('selected'));
    schemeSel.selectedIndex=-1; // рдбреНрд░реЙрдкрдбрд╛рдЙрди рд░реАрд╕реЗрдЯ рдХрд░рд╛
    clearDashboard(); // рдбреЕрд╢рдмреЛрд░реНрдб рд╕рд╛рдл рдХрд░рд╛
    showAllDefault(); // рдбреАрдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░ рд╕рд░реНрд╡ рдбреЗрдЯрд╛ рджрд╛рдЦрд╡рд╛
  };
  // рд╕рдмрдорд┐рдЯ рдмрдЯрдгрд╛рдЪреНрдпрд╛ рдХреНрд▓рд┐рдХ рдЗрд╡реНрд╣реЗрдВрдЯрд╕рд╛рдареА рд▓рд┐рд╕рдирд░
  document.getElementById('submitBtn').onclick = updateAll;
  // рдЪрд╛рд░реНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдмрдЯрдгрд╛рдВрдЪреНрдпрд╛ рдХреНрд▓рд┐рдХ рдЗрд╡реНрд╣реЗрдВрдЯрд╕рд╛рдареА рд▓рд┐рд╕рдирд░
  document.getElementById('downloadBarBtn').onclick=()=>barChart && downloadChart(barChart,"bar-chart.png");
  document.getElementById('downloadDonutBtn').onclick=()=>donutChart && downloadChart(donutChart,"donut-chart.png");
  // CSV рдбрд╛рдЙрдирд▓реЛрдб рдмрдЯрдгрд╛рдЪреНрдпрд╛ рдХреНрд▓рд┐рдХ рдЗрд╡реНрд╣реЗрдВрдЯрд╕рд╛рдареА рд▓рд┐рд╕рдирд░
  document.getElementById('downloadCsvBtn').onclick = downloadCSV;
}

// рдЪрд╛рд░реНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рд╕рд╣рд╛рдпрдХ рдлрдВрдХреНрд╢рди
function downloadChart(chart,filename){
  const a=document.createElement('a');
  a.href=chart.toBase64Image(); 
  a.download=filename; 
  a.click();
}

// рдирд┐рд╡рдбрд▓реЗрд▓реНрдпрд╛ рдпреЛрдЬрдирд╛ рдЖрдгрд┐ рддрд╛рд▓реБрдХреЗ рдЧреЛрд│рд╛ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function collectSelections() {
  // рдирд┐рд╡рдбрд▓реЗрд▓реНрдпрд╛ рддрд╛рд▓реБрдХрд╛ рдЪрд┐рдкреНрд╕ рдЧреЛрд│рд╛ рдХрд░рд╛
  selectedBlocks.clear();
  document.querySelectorAll('#talukaChips .dept-chip.selected').forEach(el=>selectedBlocks.add(el.getAttribute('data-block')));
  // multi select schemes
  selectedSchemes.clear();
  Array.from(document.getElementById('schemeSelect').selectedOptions).forEach(opt => {
    if(opt.value === "__all__") {
      schemes.forEach(s=>selectedSchemes.add(s));
    } else {
      selectedSchemes.add(opt.value);
    }
  });
}

// рдореБрдЦреНрдп рдбреЗрдЯрд╛ рдЧрдгрдирд╛ рдлрдВрдХреНрд╢рди
function compute() {
  collectSelections(); // рд╕рдзреНрдпрд╛рдЪреНрдпрд╛ рдирд┐рд╡рдбреА рдЧреЛрд│рд╛ рдХрд░рд╛
  const schemesArr = selectedSchemes.size ? Array.from(selectedSchemes) : schemes.slice(); // рдирд┐рд╡рдбрд▓реЗрд▓реНрдпрд╛ рдпреЛрдЬрдирд╛, рдирд╕рд▓реНрдпрд╛рд╕ рд╕рд░реНрд╡
  const blocksArr = selectedBlocks.size ? Array.from(selectedBlocks).map(b=>rawData.find(r=>r._block===b)).filter(Boolean) : rawData.slice(); // рдирд┐рд╡рдбрд▓реЗрд▓реЗ рддрд╛рд▓реБрдХреЗ, рдирд╕рд▓реНрдпрд╛рд╕ рд╕рд░реНрд╡

  // рдкреНрд░рддреНрдпреЗрдХ рддрд╛рд▓реБрдХреНрдпрд╛рд╕рд╛рдареА '1' рдЪреНрдпрд╛ рдореВрд▓реНрдпрд╛рдВрдЪреА рд╕рдВрдЦреНрдпрд╛ рдореЛрдЬрд╛ рдЖрдгрд┐ рд░рдБрдХрд┐рдВрдЧрд╕рд╛рдареА рдбреЗрдЯрд╛ рддрдпрд╛рд░ рдХрд░рд╛
  const kpiData = blocksArr.map(block => {
    let oneCount = 0;
    schemes.forEach(scheme => { // рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛ рд╕реНрддрдВрднрд╛рдВрд╡рд░ рдлрд┐рд░рд╛
      if (parseFloat(block[scheme]) === 1) { // рдЬрд░ рдореВрд▓реНрдп рд╕рдВрдЦреНрдпрд╛рддреНрдордХ '1' рдЕрд╕реЗрд▓ рддрд░ рдореЛрдЬрд╛
        oneCount++;
      }
    });
    return { _block: block._block, val: oneCount }; // 'val' рдЖрддрд╛ '1' рдЪреА рд╕рдВрдЦреНрдпрд╛ рджрд░реНрд╢рд╡рддреЗ
  });
  kpiData.sort((a,b)=>b.val-a.val); // '1' рдЪреНрдпрд╛ рд╕рдВрдЦреНрдпреЗрдиреБрд╕рд╛рд░ рдЙрддрд░рддреНрдпрд╛ рдХреНрд░рдорд╛рдиреЗ рдХреНрд░рдорд╡рд╛рд░реА рд▓рд╛рд╡рд╛
  kpiData.forEach((d,i)=>d.rank=i+1); // рд░рдБрдХ рдирд┐рдпреБрдХреНрдд рдХрд░рд╛

  // KPI рдбрд┐рд╕реНрдкреНрд▓реЗрд╕рд╛рдареА, рдирд┐рд╡рдбрд▓реЗрд▓реА рдкрд╣рд┐рд▓реА рдпреЛрдЬрдирд╛ рдХрд┐рдВрд╡рд╛ рдЙрдкрд▓рдмреНрдз рдкрд╣рд┐рд▓реА рдпреЛрдЬрдирд╛ рд╡рд╛рдкрд░рд╛.
  // рдкрд░рдВрддреБ рдореБрдЦреНрдп рд░рдБрдХрд┐рдВрдЧ рд▓реЙрдЬрд┐рдХ рдЖрддрд╛ '1' рдЪреНрдпрд╛ рд╕рдВрдЦреНрдпреЗрд╡рд░ рдЕрд╡рд▓рдВрдмреВрди рдЖрд╣реЗ.
  const kpiScheme = schemesArr.length ? schemesArr[0] : (schemes[0]||"");

  return { blocksArr, kpiData, schemesArr, kpiScheme };
}

// KPI рдХрд╛рд░реНрдб рд░реЗрдВрдбрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function renderKPI(data) {
  if(!data || data.kpiData.length === 0) { document.getElementById('kpiCol').innerHTML = ""; return; }
  let out = "";
  if(data.kpiData[0]) out += `
    <div class="kpi-card top selected" onclick="selfAssessment('${data.kpiData[0]._block}')">
      <span class="chip">ЁЯПЖ Top</span>${data.kpiData[0]._block}<div>${data.kpiData[0].val}</div>
    </div>`;
  if(data.kpiData.length>2){
    const midIndex = Math.floor(data.kpiData.length/2);
    const mid = data.kpiData[midIndex];
    out += `<div class="kpi-card mid selected" onclick="selfAssessment('${mid._block}')">
      <span class="chip">тЪЦя╕П рдордзреНрдпрдо</span>${mid._block}<div>${mid.val}</div></div>`;
  }
  if(data.kpiData.at(-1)){
    out += `<div class="kpi-card bot selected" onclick="selfAssessment('${data.kpiData.at(-1)._block}')">
      <span class="chip">ЁЯЪи рддрд│</span>${data.kpiData.at(-1)._block}<div>${data.kpiData.at(-1).val}</div></div>`;
  }
  document.getElementById('kpiCol').innerHTML = out;
}

// рддрд╛рд▓реБрдХреНрдпрд╛рдЪреНрдпрд╛ рд╕реНрд╡рдпрдВ-рдореВрд▓реНрдпрд╛рдВрдХрдирд╛рд╕рд╛рдареА рдкреЙрдкрдЕрдк
window.selfAssessment = function(talukaName) {
  if(!talukaName) return;
  const assessments = schemes.map(scheme => {
    const ranks = rawData.map(r => ({
      taluka: r._block, val: parseFloat(r[scheme]) || 0
    })).sort((a,b) => b.val - a.val);
    const rankObj = ranks.find(x => x.taluka === talukaName);
    return { scheme, rank: rankObj ? ranks.indexOf(rankObj) + 1 : null, score: rankObj ? rankObj.val : 0 };
  });
  assessments.sort((a,b) => a.rank-b.rank);
  const n = rawData.length;
  const top5 = assessments.filter(a=>a.rank && a.rank<=5);
  const bottom5 = assessments.filter(a=>a.rank && a.rank>=(n-4));
  alert("рддрд╛рд▓реБрдХрд╛: "+talukaName+
    "\n\nЁЯПЖ рдЙрддреНрддрдо рдпреЛрдЬрдирд╛ (Top 5):\n"+top5.map(a=>`${a.scheme}: ${a.rank} (${a.score})`).join('\n')+
    "\n\nЁЯЪи рд▓рдХреНрд╖ рджреНрдпрд╛рд╡реНрдпрд╛рдд рдЕрд╢рд╛ (Bottom 5):\n"+bottom5.map(a=>`${a.scheme}: ${a.rank} (${a.score})`).join('\n')
  );
};

// рдмрд╛рд░ рдЪрд╛рд░реНрдЯ рд░реЗрдВрдбрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function renderBar(data) {
  const ctx=document.getElementById('barChart').getContext('2d');
  barChart?.destroy(); // рдЬреБрдирд╛ рдЪрд╛рд░реНрдЯ рдирд╖реНрдЯ рдХрд░рд╛
  barChart=new Chart(ctx, {
    type:'bar',
    data: {
      labels: data.kpiData.map(d=>d._block), // рддрд╛рд▓реБрдХреНрдпрд╛рдВрдЪреА рдирд╛рд╡реЗ рд▓реЗрдмрд▓реНрд╕ рдореНрд╣рдгреВрди
      datasets: [{
        label: '1 рдЪреА рд╕рдВрдЦреНрдпрд╛', // рд▓реЗрдмрд▓ '1' рдЪреНрдпрд╛ рд╕рдВрдЦреНрдпреЗрд╕рд╛рдареА рдЕрджреНрдпрддрдирд┐рдд рдХреЗрд▓реЗ
        data: data.kpiData.map(d=>d.val), // '1' рдЪреА рд╕рдВрдЦреНрдпрд╛ рдбреЗрдЯрд╛ рдореНрд╣рдгреВрди
        backgroundColor:'#6366f1', borderRadius:4
      }]
    },
    options:{
      indexAxis:'y', // y-рдЕрдХреНрд╖рд╛рд╡рд░ рдмрд╛рд░ рджрд░реНрд╢рд╡рд╛
      plugins:{ 
        legend:{display:false}, // рд▓реЗрдЬреЗрдВрдб рджрд╛рдЦрд╡реВ рдирдХрд╛
        datalabels:{anchor:'end',align:'right',formatter:v=>v} // рдбреЗрдЯрд╛ рд▓реЗрдмрд▓рд╕рд╛рдареА рд╕реЗрдЯрд┐рдВрдЧреНрдЬ
      },
      responsive:true, // рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрдгрд╛рд░рд╛ рдЪрд╛рд░реНрдЯ
      maintainAspectRatio: false, // рд╣реЗ рдЪрд╛рд░реНрдЯрд▓рд╛ рддреНрдпрд╛рдЪреНрдпрд╛ рдХрдВрдЯреЗрдирд░рдордзреНрдпреЗ рдЕрдзрд┐рдХ рдЪрд╛рдВрдЧрд▓реНрдпрд╛ рдкреНрд░рдХрд╛рд░реЗ рдмрд╕рдгреНрдпрд╛рд╕ рдорджрдд рдХрд░рддреЗ
      scales: {
        x: {
          beginAtZero: true,
          ticks: {
            precision: 0 // рд╕рдВрдЦреНрдпрд╛рдВрд╕рд╛рдареА рдкреВрд░реНрдгрд╛рдВрдХ рдореВрд▓реНрдпреЗ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рд╛
          }
        }
      }
    },
    plugins:[ChartDataLabels] // рдбреЗрдЯрд╛ рд▓реЗрдмрд▓реНрд╕ рдкреНрд▓рдЧрдЗрди рд╡рд╛рдкрд░рд╛
  });
}

// рдбреЛрдирдЯ рдЪрд╛рд░реНрдЯ рд░реЗрдВрдбрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function renderDonut(data) {
  const ctx=document.getElementById('donutChart').getContext('2d');
  donutChart?.destroy(); // рдЬреБрдирд╛ рдЪрд╛рд░реНрдЯ рдирд╖реНрдЯ рдХрд░рд╛
  donutChart=new Chart(ctx, {
    type:'doughnut',
    data:{
      labels: data.kpiData.map(d=>d._block), // рддрд╛рд▓реБрдХреНрдпрд╛рдВрдЪреА рдирд╛рд╡реЗ рд▓реЗрдмрд▓реНрд╕ рдореНрд╣рдгреВрди
      datasets:[{
        data: data.kpiData.map(d=>d.val), // '1' рдЪреА рд╕рдВрдЦреНрдпрд╛ рдбреЗрдЯрд╛ рдореНрд╣рдгреВрди
        backgroundColor:['#4f46e5','#10b981','#f59e0b','#ef4444','#3b82f6','#818cf8','#f472b6','#2dd4bf','#facc15','#eab308','#c026d3']
      }]
    },
    options:{ 
      responsive:true, // рдкреНрд░рддрд┐рд╕рд╛рдж рджреЗрдгрд╛рд░рд╛ рдЪрд╛рд░реНрдЯ
      maintainAspectRatio: false, // рд╣реЗ рдЪрд╛рд░реНрдЯрд▓рд╛ рддреНрдпрд╛рдЪреНрдпрд╛ рдХрдВрдЯреЗрдирд░рдордзреНрдпреЗ рдЕрдзрд┐рдХ рдЪрд╛рдВрдЧрд▓реНрдпрд╛ рдкреНрд░рдХрд╛рд░реЗ рдмрд╕рдгреНрдпрд╛рд╕ рдорджрдд рдХрд░рддреЗ
      plugins:{ 
        legend:{
          position:'right', // рд▓реЗрдЬреЗрдВрдб рдЙрдЬрд╡реАрдХрдбреЗ рджрд╛рдЦрд╡рд╛
          align: 'center', // рд▓реЗрдЬреЗрдВрдб рдордзреНрдпрднрд╛рдЧреА рдЕрд▓рд╛рдЗрди рдХрд░рд╛
          labels: {
            boxWidth: 20, // рд▓реЗрдЬреЗрдВрдб рдмреЙрдХреНрд╕рдЪреА рд░реБрдВрджреА
            padding: 10 // рд▓реЗрдмрд▓реНрд╕рдордзреАрд▓ рдкреЕрдбрд┐рдВрдЧ
          }
        }, 
        datalabels:{
          formatter: (value, ctx) => { // рдбреЗрдЯрд╛ рд▓реЗрдмрд▓рд╕рд╛рдареА рдлреЙрд░рдореЕрдЯрд░
            const total = ctx.dataset.data.reduce((a, b) => a + b, 0);
            const percentage = total > 0 ? ((value / total) * 100).toFixed(0) + '%' : '';
            return ctx.chart.data.labels[ctx.dataIndex] + '\n' + percentage; // рддрд╛рд▓реБрдХрд╛ рдирд╛рд╡ рдЖрдгрд┐ рдЯрдХреНрдХреЗрд╡рд╛рд░реА рджрд╛рдЦрд╡рд╛
          },
          color: '#fff', // рдордЬрдХреВрд░ рд░рдВрдЧ рдкрд╛рдВрдврд░рд╛
          textShadowBlur: 4, // рдордЬрдХреВрд░ рд╕рд╛рд╡рд▓реА
          textShadowColor: 'rgba(0, 0, 0, 0.6)', // рдордЬрдХреВрд░ рд╕рд╛рд╡рд▓реАрдЪрд╛ рд░рдВрдЧ
          display: true // рдбреЗрдЯрд╛ рд▓реЗрдмрд▓реНрд╕ рджрд╛рдЦрд╡рд╛
        }
      }
    },
    plugins:[ChartDataLabels] // рдбреЗрдЯрд╛ рд▓реЗрдмрд▓реНрд╕ рдкреНрд▓рдЧрдЗрди рд╡рд╛рдкрд░рд╛
  });
}

// рдЯреЗрдмрд▓ рд░реЗрдВрдбрд░ рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function renderTable(data) {
  const th = `<th>рд░рдБрдХ</th>` + headers.map(h => `<th>${h}</th>`).join(''); // рдЯреЗрдмрд▓ рд╣реЗрдбрд░ рддрдпрд╛рд░ рдХрд░рд╛
  document.getElementById('tableHeader').innerHTML = th;
  const n = data.kpiData.length;
  
  // рдордзреНрдпрднрд╛рдЧреА 5 рдкрдВрдХреНрддреА рд╢реЛрдзрдгреНрдпрд╛рд╕рд╛рдареА (рд╡реНрд╣рд┐рдЬреНрдпреБрдЕрд▓ рдЧреНрд░реБрдкрд┐рдВрдЧрд╕рд╛рдареА)
  const middleStartIndex = Math.max(0, Math.floor(n / 2) - 2);
  const middleEndIndex = Math.min(n - 1, middleStartIndex + 4);

  const rows = data.kpiData.map((r,i) => {
    const classes = [
      i < 5 ? 'top5' : '', // рдЯреЙрдк 5 рдкрдВрдХреНрддреАрдВрд╕рд╛рдареА рдХреНрд▓рд╛рд╕
      i >= n - 5 ? 'bot5' : '', // рдмреЙрдЯрдо 5 рдкрдВрдХреНрддреАрдВрд╕рд╛рдареА рдХреНрд▓рд╛рд╕
      // рдордзреНрдпрднрд╛рдЧреА рдЕрд╕рд▓реЗрд▓реНрдпрд╛ рдкрдВрдХреНрддреАрдВрд╕рд╛рдареА рдХреНрд▓рд╛рд╕ (рдЯреЙрдк/рдмреЙрдЯрдо 5 рдордзреНрдпреЗ рдирд╕рд▓реЗрд▓реНрдпрд╛)
      (i >= middleStartIndex && i <= middleEndIndex && i >= 5 && i < n - 5) ? 'mid5' : '', 
      selectedBlocks.has(r._block) ? 'selected-block' : '' // рдирд┐рд╡рдбрд▓реЗрд▓реНрдпрд╛ рдмреНрд▓реЙрдХрд╕рд╛рдареА рдХреНрд▓рд╛рд╕
    ].filter(Boolean).join(' ');
    
    // рд╕рд░реНрд╡ рд╕реНрддрдВрдн рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдореВрд│ rawData рдПрдВрдЯреНрд░реА рд╢реЛрдзрд╛
    const originalDataRow = rawData.find(x => x._block === r._block);
    return `
      <tr class="${classes}">
        <td>${r.rank}</td>${headers.map(h => `<td>${originalDataRow[h] || ''}</td>`).join('')}
      </tr>`;
  }).join('');
  document.getElementById('tableBody').innerHTML = rows;
}

// рдбреАрдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░ рд╕рд░реНрд╡ рдбреЗрдЯрд╛ рджрд╛рдЦрд╡рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди (рдЬреЗрд╡реНрд╣рд╛ рдХреЛрдгрддреАрд╣реА рдирд┐рд╡рдб рдирд╕рддреЗ)
function showAllDefault() {
  selectedSchemes.clear(); schemes.forEach(s=>selectedSchemes.add(s)); // рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛ рдирд┐рд╡рдбрд╛
  selectedBlocks.clear(); blocks.forEach(b=>selectedBlocks.add(b._block)); // рд╕рд░реНрд╡ рддрд╛рд▓реБрдХреЗ рдирд┐рд╡рдбрд╛
  // 'рд╕рд░реНрд╡ рдпреЛрдЬрдирд╛' рдкрд░реНрдпрд╛рдп рдирд┐рд╡рдбрд▓реЗрд▓рд╛ рджрд┐рд╕рдгреНрдпрд╛рд╕рд╛рдареА
  const allSchemesOption = document.querySelector('#schemeSelect option[value="__all__"]');
  if (allSchemesOption) {
    allSchemesOption.selected = true;
    // рдЗрддрд░ рд╕рд░реНрд╡ рдкрд░реНрдпрд╛рдп рджреЗрдЦреАрд▓ рдирд┐рд╡рдбрд▓реЗрд▓реЗ рджрд┐рд╕рдгреНрдпрд╛рд╕рд╛рдареА
    Array.from(document.getElementById('schemeSelect').options).forEach(opt => {
      if (opt.value !== '__all__') opt.selected = true;
    });
  }
  document.querySelectorAll('#talukaChips .dept-chip').forEach(span=>span.classList.remove('selected')); // рд╕реБрд░реБрд╡рд╛рддреАрд▓рд╛ рд╕рд░реНрд╡ рдЪрд┐рдкреНрд╕ рдЕрдирд╕реЗрд▓реЗрдХреНрдЯ рдХрд░рд╛
  updateAll(); // рдбреЕрд╢рдмреЛрд░реНрдб рдЕрджреНрдпрддрдирд┐рдд рдХрд░рд╛
}

// рдбреЕрд╢рдмреЛрд░реНрдб рд╕рд╛рдл рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function clearDashboard() {
  document.getElementById('kpiCol').innerHTML="";
  document.getElementById('tableBody').innerHTML="";
  document.getElementById('tableHeader').innerHTML="";
  barChart?.destroy(); donutChart?.destroy(); // рдЪрд╛рд░реНрдЯ рдирд╖реНрдЯ рдХрд░рд╛
}

// рд╕рд░реНрд╡ рдШрдЯрдХ рдЕрджреНрдпрддрдирд┐рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function updateAll() {
  const data = compute(); // рдбреЗрдЯрд╛рдЪреА рдЧрдгрдирд╛ рдХрд░рд╛
  if(!data || data.blocksArr.length === 0) { // рдлрд┐рд▓реНрдЯрд░рд┐рдВрдЧрдирдВрддрд░ рдбреЗрдЯрд╛ рдирд╕рд▓реНрдпрд╛рд╕
    clearDashboard();
    alert("рдирд┐рд╡рдбрд▓реЗрд▓реНрдпрд╛ рдирд┐рдХрд╖рд╛рдВрдиреБрд╕рд╛рд░ рдХреЛрдгрддрд╛рд╣реА рдбреЗрдЯрд╛ рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА.");
    return;
  }
  renderKPI(data); // KPI рд░реЗрдВрдбрд░ рдХрд░рд╛
  renderBar(data); // рдмрд╛рд░ рдЪрд╛рд░реНрдЯ рд░реЗрдВрдбрд░ рдХрд░рд╛
  renderDonut(data); // рдбреЛрдирдЯ рдЪрд╛рд░реНрдЯ рд░реЗрдВрдбрд░ рдХрд░рд╛
  renderTable(data); // рдЯреЗрдмрд▓ рд░реЗрдВрдбрд░ рдХрд░рд╛
}

// рдбреЗрдЯрд╛ CSV рдореНрд╣рдгреВрди рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдлрдВрдХреНрд╢рди
function downloadCSV() {
  const data = compute(); // рдбреЗрдЯрд╛рдЪреА рдЧрдгрдирд╛ рдХрд░рд╛
  if(!data || data.blocksArr.length === 0) {
    alert("CSV рдирд┐рд░реНрдпрд╛рдд рдХрд░рдгреНрдпрд╛рд╕рд╛рдареА рдХреЛрдгрддрд╛рд╣реА рдбреЗрдЯрд╛ рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА.");
    return;
  }
  let csv = 'рд░рдБрдХ,' + headers.join(',') + '\n' + data.kpiData.map(r => {
    const originalDataRow = rawData.find(x => x._block === r._block);
    return `${r.rank},` + headers.map(h => `"${originalDataRow[h] || ''}"`).join(',');
  }).join('\n');
  const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' }); // рдорд░рд╛рдареА рд╡рд░реНрдгрдирд╛рдВрд╕рд╛рдареА utf-8 рдПрдиреНрдХреЛрдбрд┐рдВрдЧ
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'taluka-data.csv'; a.click();
  URL.revokeObjectURL(url);
}

// рд╕реБрд░реБрд╡рд╛рддреАрд▓рд╛ ре▓рдк рд▓реЛрдб рдЭрд╛рд▓реНрдпрд╛рд╡рд░ рдЪрд╛рд▓рдгрд╛рд░реЗ рдлрдВрдХреНрд╢рди
(async () => {
  try {
    const vals = await fetchSheet(); // рд╕реНрдкреНрд░реЗрдбрд╢реАрдЯ рдбреЗрдЯрд╛ рдЖрдгрд╛
    parse(vals); // рдбреЗрдЯрд╛ рдкрд╛рд░реНрд╕ рдХрд░рд╛
    renderControls(); // рдирд┐рдпрдВрддреНрд░рдг рдШрдЯрдХ рд░реЗрдВрдбрд░ рдХрд░рд╛
    showAllDefault(); // рдбреАрдлреЙрд▓реНрдЯрдиреБрд╕рд╛рд░ рд╕рд░реНрд╡ рдбреЗрдЯрд╛ рджрд╛рдЦрд╡рд╛
  } catch (e) {
    alert("рдбреЗрдЯрд╛ рд▓реЛрдбрдордзреНрдпреЗ рдЕрдбрдЪрдг: " + e.message + "\nрдХреГрдкрдпрд╛ рддреБрдордЪреНрдпрд╛ API рдХреА рдЖрдгрд┐ рд╕реНрдкреНрд░реЗрдбрд╢реАрдЯ рд░реЗрдВрдЬрдЪреА рдЦрд╛рддреНрд░реА рдХрд░рд╛.");
  }
})();
</script>


</body></html>
